![image](https://user-images.githubusercontent.com/74223025/233335666-59c584d8-08d0-4627-8798-c08189aca593.png)

## 1. Metadata : 
Its information about deployment or service or pod
![image](https://user-images.githubusercontent.com/74223025/233339762-1c40203e-8fdd-4f48-bb54-3a8b7a69ec2c.png)

## 2. Specification : 
![image](https://user-images.githubusercontent.com/74223025/233340266-05b2ab9a-fe32-469e-8368-42e96e56562e.png)
#### template
- Has its own "metadata" and "spec" section, which is applicable to pods
- "spec" of template is simply a blueprint of pods
- contains information like, which image? which port? name of container?
![image](https://user-images.githubusercontent.com/74223025/233345843-a44edb10-6844-4360-a2bf-129de212bb87.png)

## 3. Status : 
It is automatically generated by k8s and it is stored in ETCD. It continuously monitor the records of running pods and compare it with configuration file. e.g. If status found 2 replicas of any deployments are live however in configuration file it is mentioned 3 replicas, then it will create 1 more replica. This is what we call self healing.
![image](https://user-images.githubusercontent.com/74223025/233340851-5f1a127a-3f59-43cb-bbbe-2bb681405dc6.png)
![image](https://user-images.githubusercontent.com/74223025/233344534-a6918d48-c133-45c5-9a11-00c4eaa9ea3d.png)

## Connecting Components
Labels are selectors are just names given to components for internal filtering purposes.
#### 1. labels: are part of metadata. Means we gives specific label to deployment, service and pod
#### 2. selector: are part of spec. Here it will go and match its label with deployment
![image](https://user-images.githubusercontent.com/74223025/233367708-315f74ce-9f67-4415-8f07-166daecd39a9.png)
### 3. Ports : Let say servici is running on port:80 and pod at port:8080, then whenever anyone will hit at service port:80, service will redirect request to pod using target_port:8080
![image](https://user-images.githubusercontent.com/74223025/233563884-cfad3f13-6372-4a99-abfb-8191a44ca039.png)


## Filtering using labels
![image](https://user-images.githubusercontent.com/74223025/233551762-6fc632fb-70e5-481d-873e-0c21e740b97b.png)

## Create Service and deployment

```ruby
kubectl apply -f ngnix-deployment.yaml  ## create this file using below content
kubectl apply -f ngnix-service.yaml ## create this file using below content
kubectl get pods
kubectl get service
kubectl describe service ngnix-service ## check endpoints which are pods IP addresses under service
kubectl get pods -o wide ## You can check pod IP address here
```
#### ngnix-deployment.yaml
```bash
apiVersion: apps/v1
kind: Deployment
metadata:
  name: ngnix-depl-config-file
  labels:
    app: ngnix
spec:
  replicas: 2
  selector:
    matchLabels:
      app: ngnix
  template:
    metadata:
      labels:
        app: ngnix
        env: dev
    spec:
      containers:
      - name: nginx
        image: nginx:1.16
        ports:
        - containerPort: 80
```
#### ngnix-service.yaml
```bash
apiVersion: v1
kind: Service
metadata:
  name: ngnix-service
spec:
  selector:
    app: ngnix
  ports:
    - protocol: TCP
      port: 80
      targetPort: 8080
```
![image](https://user-images.githubusercontent.com/74223025/233584252-78465a95-adb2-46b7-8dab-da735b196386.png)

